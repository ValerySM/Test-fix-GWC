{"ast":null,"code":"import React,{useState,useEffect}from'react';import Score from'./comp/Score';import'./css/EWE.css';import FarmButton from'./comp/FarmButton';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Ewe(){const[tokens,setTokens]=useState(()=>{const savedTokens=localStorage.getItem('tokens');return savedTokens?parseFloat(savedTokens):0;});const[farmedTokens,setFarmedTokens]=useState(()=>{const savedFarmedTokens=localStorage.getItem('farmedTokens');return savedFarmedTokens?parseFloat(savedFarmedTokens):0;});const[isFarming,setIsFarming]=useState(()=>{const savedIsFarming=localStorage.getItem('isFarming');return savedIsFarming==='true';});const[startTime,setStartTime]=useState(()=>{const savedStartTime=localStorage.getItem('startTime');return savedStartTime?new Date(parseInt(savedStartTime,10)):null;});const[elapsedFarmingTime,setElapsedFarmingTime]=useState(()=>{const savedElapsedFarmingTime=localStorage.getItem('elapsedFarmingTime');return savedElapsedFarmingTime?parseFloat(savedElapsedFarmingTime):0;});const[animationClass,setAnimationClass]=useState('fade-in');const[texts]=useState(['Hello there','How are you?','Finally']);const[currentTextIndex,setCurrentTextIndex]=useState(0);const maxTokens=32;useEffect(()=>{let farmingInterval;if(isFarming){const interval=1000;farmingInterval=setInterval(()=>{const now=new Date();const elapsed=(now-startTime)/1000;const farmed=Math.min((elapsed+elapsedFarmingTime)*0.001,maxTokens);setFarmedTokens(farmed);if(farmed>=maxTokens){clearInterval(farmingInterval);setIsFarming(false);setElapsedFarmingTime(0);}},interval);}return()=>clearInterval(farmingInterval);},[isFarming,startTime,elapsedFarmingTime]);useEffect(()=>{localStorage.setItem('tokens',tokens);localStorage.setItem('farmedTokens',farmedTokens);localStorage.setItem('isFarming',isFarming);localStorage.setItem('startTime',startTime?startTime.getTime():null);localStorage.setItem('elapsedFarmingTime',elapsedFarmingTime);},[tokens,farmedTokens,isFarming,startTime,elapsedFarmingTime]);const handleButtonClick=()=>{if(!isFarming&&farmedTokens>=maxTokens){collectTokens();}else{startFarming();}};const startFarming=()=>{if(!isFarming){const now=new Date();setStartTime(now);setIsFarming(true);setElapsedFarmingTime(0);setFarmedTokens(0);}};const collectTokens=()=>{if(farmedTokens>=maxTokens){setTokens(prevTokens=>Number((prevTokens+farmedTokens).toFixed(3)));setFarmedTokens(0);setIsFarming(false);setElapsedFarmingTime(0);}};const handleNextText=()=>{setAnimationClass('fade-out');setTimeout(()=>{setCurrentTextIndex(prevIndex=>(prevIndex+1)%texts.length);setAnimationClass('fade-in');},1000);// Длительность анимации\n};const handlePrevText=()=>{setAnimationClass('fade-out');setTimeout(()=>{setCurrentTextIndex(prevIndex=>(prevIndex-1+texts.length)%texts.length);setAnimationClass('fade-in');},1000);// Длительность анимации\n};const progressPercentage=farmedTokens/maxTokens*100;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(Score,{tokens:tokens})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar-fill\",style:{width:\"\".concat(progressPercentage,\"%\")},children:/*#__PURE__*/_jsxs(\"span\",{className:\"progress-text\",children:[progressPercentage.toFixed(1),\"%\"]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"animation_contain\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevText,className:\"btntxt\",children:\"\\u2190\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-display \".concat(animationClass),children:[texts[currentTextIndex],\" \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextText,className:\"btntxt\",children:\"\\u2192\"})]}),/*#__PURE__*/_jsx(FarmButton,{isFarming:isFarming,farmedTokens:farmedTokens,onClick:handleButtonClick})]})]});}export default Ewe;","map":{"version":3,"names":["React","useState","useEffect","Score","FarmButton","jsx","_jsx","jsxs","_jsxs","Ewe","tokens","setTokens","savedTokens","localStorage","getItem","parseFloat","farmedTokens","setFarmedTokens","savedFarmedTokens","isFarming","setIsFarming","savedIsFarming","startTime","setStartTime","savedStartTime","Date","parseInt","elapsedFarmingTime","setElapsedFarmingTime","savedElapsedFarmingTime","animationClass","setAnimationClass","texts","currentTextIndex","setCurrentTextIndex","maxTokens","farmingInterval","interval","setInterval","now","elapsed","farmed","Math","min","clearInterval","setItem","getTime","handleButtonClick","collectTokens","startFarming","prevTokens","Number","toFixed","handleNextText","setTimeout","prevIndex","length","handlePrevText","progressPercentage","className","children","style","width","concat","onClick"],"sources":["C:/Users/Valery/Documents/GitHub/Test-fix-GWC/src/Universes/EWE/src/EWE.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Score from './comp/Score';\r\nimport './css/EWE.css';\r\nimport FarmButton from './comp/FarmButton';\r\n\r\nfunction Ewe() {\r\n  const [tokens, setTokens] = useState(() => {\r\n    const savedTokens = localStorage.getItem('tokens');\r\n    return savedTokens ? parseFloat(savedTokens) : 0;\r\n  });\r\n\r\n  const [farmedTokens, setFarmedTokens] = useState(() => {\r\n    const savedFarmedTokens = localStorage.getItem('farmedTokens');\r\n    return savedFarmedTokens ? parseFloat(savedFarmedTokens) : 0;\r\n  });\r\n\r\n  const [isFarming, setIsFarming] = useState(() => {\r\n    const savedIsFarming = localStorage.getItem('isFarming');\r\n    return savedIsFarming === 'true';\r\n  });\r\n\r\n  const [startTime, setStartTime] = useState(() => {\r\n    const savedStartTime = localStorage.getItem('startTime');\r\n    return savedStartTime ? new Date(parseInt(savedStartTime, 10)) : null;\r\n  });\r\n\r\n  const [elapsedFarmingTime, setElapsedFarmingTime] = useState(() => {\r\n    const savedElapsedFarmingTime = localStorage.getItem('elapsedFarmingTime');\r\n    return savedElapsedFarmingTime ? parseFloat(savedElapsedFarmingTime) : 0;\r\n  });\r\n\r\n  const [animationClass, setAnimationClass] = useState('fade-in');\r\n  const [texts] = useState(['Hello there', 'How are you?', 'Finally']);\r\n  const [currentTextIndex, setCurrentTextIndex] = useState(0);\r\n\r\n  const maxTokens = 32;\r\n\r\n  useEffect(() => {\r\n    let farmingInterval;\r\n    if (isFarming) {\r\n      const interval = 1000;\r\n\r\n      farmingInterval = setInterval(() => {\r\n        const now = new Date();\r\n        const elapsed = (now - startTime) / 1000;\r\n        const farmed = Math.min((elapsed + elapsedFarmingTime) * 0.001, maxTokens);\r\n        setFarmedTokens(farmed);\r\n\r\n        if (farmed >= maxTokens) {\r\n          clearInterval(farmingInterval);\r\n          setIsFarming(false);\r\n          setElapsedFarmingTime(0);\r\n        }\r\n      }, interval);\r\n    }\r\n\r\n    return () => clearInterval(farmingInterval);\r\n  }, [isFarming, startTime, elapsedFarmingTime]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('tokens', tokens);\r\n    localStorage.setItem('farmedTokens', farmedTokens);\r\n    localStorage.setItem('isFarming', isFarming);\r\n    localStorage.setItem('startTime', startTime ? startTime.getTime() : null);\r\n    localStorage.setItem('elapsedFarmingTime', elapsedFarmingTime);\r\n  }, [tokens, farmedTokens, isFarming, startTime, elapsedFarmingTime]);\r\n\r\n  const handleButtonClick = () => {\r\n    if (!isFarming && farmedTokens >= maxTokens) {\r\n      collectTokens();\r\n    } else {\r\n      startFarming();\r\n    }\r\n  };\r\n\r\n  const startFarming = () => {\r\n    if (!isFarming) {\r\n      const now = new Date();\r\n      setStartTime(now);\r\n      setIsFarming(true);\r\n      setElapsedFarmingTime(0);\r\n      setFarmedTokens(0);\r\n    }\r\n  };\r\n\r\n  const collectTokens = () => {\r\n    if (farmedTokens >= maxTokens) {\r\n      setTokens(prevTokens => Number((prevTokens + farmedTokens).toFixed(3)));\r\n      setFarmedTokens(0);\r\n      setIsFarming(false);\r\n      setElapsedFarmingTime(0);\r\n    }\r\n  };\r\n\r\n  const handleNextText = () => {\r\n    setAnimationClass('fade-out');\r\n    setTimeout(() => {\r\n      setCurrentTextIndex((prevIndex) => (prevIndex + 1) % texts.length);\r\n      setAnimationClass('fade-in');\r\n    }, 1000); // Длительность анимации\r\n  };\r\n\r\n  const handlePrevText = () => {\r\n    setAnimationClass('fade-out');\r\n    setTimeout(() => {\r\n      setCurrentTextIndex((prevIndex) => (prevIndex - 1 + texts.length) % texts.length);\r\n      setAnimationClass('fade-in');\r\n    }, 1000); // Длительность анимации\r\n  };\r\n\r\n  const progressPercentage = (farmedTokens / maxTokens) * 100;\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"header\">\r\n        <Score tokens={tokens} />\r\n      </header>\r\n      <div className=\"content\">\r\n        <div className=\"progress-bar\">\r\n          <div \r\n            className=\"progress-bar-fill\" \r\n            style={{ width: `${progressPercentage}%` }}\r\n          >\r\n            <span className=\"progress-text\">{progressPercentage.toFixed(1)}%</span>\r\n          </div>\r\n        </div>\r\n        <div className={`animation_contain`}>\r\n          <button onClick={handlePrevText} className='btntxt'>←</button>\r\n          <div className={`text-display ${animationClass}`}>\r\n            {texts[currentTextIndex]} {}\r\n          </div>\r\n          <button onClick={handleNextText} className='btntxt'>→</button>\r\n        </div>\r\n        <FarmButton\r\n          isFarming={isFarming}\r\n          farmedTokens={farmedTokens}\r\n          onClick={handleButtonClick}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Ewe;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,cAAc,CAChC,MAAO,eAAe,CACtB,MAAO,CAAAC,UAAU,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3C,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGV,QAAQ,CAAC,IAAM,CACzC,KAAM,CAAAW,WAAW,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAClD,MAAO,CAAAF,WAAW,CAAGG,UAAU,CAACH,WAAW,CAAC,CAAG,CAAC,CAClD,CAAC,CAAC,CAEF,KAAM,CAACI,YAAY,CAAEC,eAAe,CAAC,CAAGhB,QAAQ,CAAC,IAAM,CACrD,KAAM,CAAAiB,iBAAiB,CAAGL,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAC9D,MAAO,CAAAI,iBAAiB,CAAGH,UAAU,CAACG,iBAAiB,CAAC,CAAG,CAAC,CAC9D,CAAC,CAAC,CAEF,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGnB,QAAQ,CAAC,IAAM,CAC/C,KAAM,CAAAoB,cAAc,CAAGR,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CACxD,MAAO,CAAAO,cAAc,GAAK,MAAM,CAClC,CAAC,CAAC,CAEF,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGtB,QAAQ,CAAC,IAAM,CAC/C,KAAM,CAAAuB,cAAc,CAAGX,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CACxD,MAAO,CAAAU,cAAc,CAAG,GAAI,CAAAC,IAAI,CAACC,QAAQ,CAACF,cAAc,CAAE,EAAE,CAAC,CAAC,CAAG,IAAI,CACvE,CAAC,CAAC,CAEF,KAAM,CAACG,kBAAkB,CAAEC,qBAAqB,CAAC,CAAG3B,QAAQ,CAAC,IAAM,CACjE,KAAM,CAAA4B,uBAAuB,CAAGhB,YAAY,CAACC,OAAO,CAAC,oBAAoB,CAAC,CAC1E,MAAO,CAAAe,uBAAuB,CAAGd,UAAU,CAACc,uBAAuB,CAAC,CAAG,CAAC,CAC1E,CAAC,CAAC,CAEF,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAG9B,QAAQ,CAAC,SAAS,CAAC,CAC/D,KAAM,CAAC+B,KAAK,CAAC,CAAG/B,QAAQ,CAAC,CAAC,aAAa,CAAE,cAAc,CAAE,SAAS,CAAC,CAAC,CACpE,KAAM,CAACgC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGjC,QAAQ,CAAC,CAAC,CAAC,CAE3D,KAAM,CAAAkC,SAAS,CAAG,EAAE,CAEpBjC,SAAS,CAAC,IAAM,CACd,GAAI,CAAAkC,eAAe,CACnB,GAAIjB,SAAS,CAAE,CACb,KAAM,CAAAkB,QAAQ,CAAG,IAAI,CAErBD,eAAe,CAAGE,WAAW,CAAC,IAAM,CAClC,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAd,IAAI,CAAC,CAAC,CACtB,KAAM,CAAAe,OAAO,CAAG,CAACD,GAAG,CAAGjB,SAAS,EAAI,IAAI,CACxC,KAAM,CAAAmB,MAAM,CAAGC,IAAI,CAACC,GAAG,CAAC,CAACH,OAAO,CAAGb,kBAAkB,EAAI,KAAK,CAAEQ,SAAS,CAAC,CAC1ElB,eAAe,CAACwB,MAAM,CAAC,CAEvB,GAAIA,MAAM,EAAIN,SAAS,CAAE,CACvBS,aAAa,CAACR,eAAe,CAAC,CAC9BhB,YAAY,CAAC,KAAK,CAAC,CACnBQ,qBAAqB,CAAC,CAAC,CAAC,CAC1B,CACF,CAAC,CAAES,QAAQ,CAAC,CACd,CAEA,MAAO,IAAMO,aAAa,CAACR,eAAe,CAAC,CAC7C,CAAC,CAAE,CAACjB,SAAS,CAAEG,SAAS,CAAEK,kBAAkB,CAAC,CAAC,CAE9CzB,SAAS,CAAC,IAAM,CACdW,YAAY,CAACgC,OAAO,CAAC,QAAQ,CAAEnC,MAAM,CAAC,CACtCG,YAAY,CAACgC,OAAO,CAAC,cAAc,CAAE7B,YAAY,CAAC,CAClDH,YAAY,CAACgC,OAAO,CAAC,WAAW,CAAE1B,SAAS,CAAC,CAC5CN,YAAY,CAACgC,OAAO,CAAC,WAAW,CAAEvB,SAAS,CAAGA,SAAS,CAACwB,OAAO,CAAC,CAAC,CAAG,IAAI,CAAC,CACzEjC,YAAY,CAACgC,OAAO,CAAC,oBAAoB,CAAElB,kBAAkB,CAAC,CAChE,CAAC,CAAE,CAACjB,MAAM,CAAEM,YAAY,CAAEG,SAAS,CAAEG,SAAS,CAAEK,kBAAkB,CAAC,CAAC,CAEpE,KAAM,CAAAoB,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,GAAI,CAAC5B,SAAS,EAAIH,YAAY,EAAImB,SAAS,CAAE,CAC3Ca,aAAa,CAAC,CAAC,CACjB,CAAC,IAAM,CACLC,YAAY,CAAC,CAAC,CAChB,CACF,CAAC,CAED,KAAM,CAAAA,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAI,CAAC9B,SAAS,CAAE,CACd,KAAM,CAAAoB,GAAG,CAAG,GAAI,CAAAd,IAAI,CAAC,CAAC,CACtBF,YAAY,CAACgB,GAAG,CAAC,CACjBnB,YAAY,CAAC,IAAI,CAAC,CAClBQ,qBAAqB,CAAC,CAAC,CAAC,CACxBX,eAAe,CAAC,CAAC,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAA+B,aAAa,CAAGA,CAAA,GAAM,CAC1B,GAAIhC,YAAY,EAAImB,SAAS,CAAE,CAC7BxB,SAAS,CAACuC,UAAU,EAAIC,MAAM,CAAC,CAACD,UAAU,CAAGlC,YAAY,EAAEoC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CACvEnC,eAAe,CAAC,CAAC,CAAC,CAClBG,YAAY,CAAC,KAAK,CAAC,CACnBQ,qBAAqB,CAAC,CAAC,CAAC,CAC1B,CACF,CAAC,CAED,KAAM,CAAAyB,cAAc,CAAGA,CAAA,GAAM,CAC3BtB,iBAAiB,CAAC,UAAU,CAAC,CAC7BuB,UAAU,CAAC,IAAM,CACfpB,mBAAmB,CAAEqB,SAAS,EAAK,CAACA,SAAS,CAAG,CAAC,EAAIvB,KAAK,CAACwB,MAAM,CAAC,CAClEzB,iBAAiB,CAAC,SAAS,CAAC,CAC9B,CAAC,CAAE,IAAI,CAAC,CAAE;AACZ,CAAC,CAED,KAAM,CAAA0B,cAAc,CAAGA,CAAA,GAAM,CAC3B1B,iBAAiB,CAAC,UAAU,CAAC,CAC7BuB,UAAU,CAAC,IAAM,CACfpB,mBAAmB,CAAEqB,SAAS,EAAK,CAACA,SAAS,CAAG,CAAC,CAAGvB,KAAK,CAACwB,MAAM,EAAIxB,KAAK,CAACwB,MAAM,CAAC,CACjFzB,iBAAiB,CAAC,SAAS,CAAC,CAC9B,CAAC,CAAE,IAAI,CAAC,CAAE;AACZ,CAAC,CAED,KAAM,CAAA2B,kBAAkB,CAAI1C,YAAY,CAAGmB,SAAS,CAAI,GAAG,CAE3D,mBACE3B,KAAA,QAAKmD,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBtD,IAAA,WAAQqD,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACxBtD,IAAA,CAACH,KAAK,EAACO,MAAM,CAAEA,MAAO,CAAE,CAAC,CACnB,CAAC,cACTF,KAAA,QAAKmD,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBtD,IAAA,QAAKqD,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BtD,IAAA,QACEqD,SAAS,CAAC,mBAAmB,CAC7BE,KAAK,CAAE,CAAEC,KAAK,IAAAC,MAAA,CAAKL,kBAAkB,KAAI,CAAE,CAAAE,QAAA,cAE3CpD,KAAA,SAAMmD,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAEF,kBAAkB,CAACN,OAAO,CAAC,CAAC,CAAC,CAAC,GAAC,EAAM,CAAC,CACpE,CAAC,CACH,CAAC,cACN5C,KAAA,QAAKmD,SAAS,oBAAsB,CAAAC,QAAA,eAClCtD,IAAA,WAAQ0D,OAAO,CAAEP,cAAe,CAACE,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAC,QAAC,CAAQ,CAAC,cAC9DpD,KAAA,QAAKmD,SAAS,iBAAAI,MAAA,CAAkBjC,cAAc,CAAG,CAAA8B,QAAA,EAC9C5B,KAAK,CAACC,gBAAgB,CAAC,CAAC,GAAC,EACvB,CAAC,cACN3B,IAAA,WAAQ0D,OAAO,CAAEX,cAAe,CAACM,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAC,QAAC,CAAQ,CAAC,EAC3D,CAAC,cACNtD,IAAA,CAACF,UAAU,EACTe,SAAS,CAAEA,SAAU,CACrBH,YAAY,CAAEA,YAAa,CAC3BgD,OAAO,CAAEjB,iBAAkB,CAC5B,CAAC,EACC,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAtC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}