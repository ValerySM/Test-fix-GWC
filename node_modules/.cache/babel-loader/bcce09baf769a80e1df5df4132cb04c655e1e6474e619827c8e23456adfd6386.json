{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\valery-sm\\\\project\\\\Demo-GWC\\\\frontend\\\\src\\\\Universes\\\\EWI\\\\src\\\\games\\\\apple-game\\\\AppleCatcher.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer, useEffect, useRef, useCallback } from 'react';\nimport './AppleCatcher.css';\n\n// Предполагается, что эти импорты правильно настроены в вашем проекте\nimport goodAppleImg from './img/good-apple.png';\nimport rottenAppleImg from './img/rotten-apple.png';\nimport catcherImg from './img/catcher.png';\nimport backgroundImg from './img/background.png';\nimport backgroundMusic from './audio/background-music.mp3';\nimport buttonClickSound from './audio/button-click.mp3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CANVAS_WIDTH = 800;\nconst CANVAS_HEIGHT = 600;\nconst initialState = {\n  score: 0,\n  time: 60,\n  apples: [],\n  playerPosition: 50,\n  gameStarted: false,\n  showResult: false,\n  scoreAnimations: []\n};\nfunction gameReducer(state, action) {\n  switch (action.type) {\n    case 'START_GAME':\n      return {\n        ...initialState,\n        gameStarted: true\n      };\n    case 'END_GAME':\n      return {\n        ...state,\n        gameStarted: false,\n        showResult: true\n      };\n    case 'UPDATE_PLAYER_POSITION':\n      return {\n        ...state,\n        playerPosition: action.payload\n      };\n    case 'UPDATE_GAME_STATE':\n      return {\n        ...state,\n        ...action.payload\n      };\n    case 'ADD_SCORE_ANIMATION':\n      return {\n        ...state,\n        scoreAnimations: [...state.scoreAnimations, action.payload],\n        score: state.score + action.payload.score\n      };\n    case 'REMOVE_SCORE_ANIMATION':\n      return {\n        ...state,\n        scoreAnimations: state.scoreAnimations.filter(anim => anim.id !== action.payload)\n      };\n    default:\n      return state;\n  }\n}\nconst AppleCatcher = ({\n  onGameOver\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(gameReducer, initialState);\n  const canvasRef = useRef(null);\n  const backgroundMusicRef = useRef(new Audio(backgroundMusic));\n  const buttonClickSoundRef = useRef(new Audio(buttonClickSound));\n  const gameLoopRef = useRef(null);\n  const lastUpdateTimeRef = useRef(0);\n  const imagesRef = useRef({\n    goodApple: new Image(),\n    rottenApple: new Image(),\n    catcher: new Image(),\n    background: new Image()\n  });\n  useEffect(() => {\n    imagesRef.current.goodApple.src = goodAppleImg;\n    imagesRef.current.rottenApple.src = rottenAppleImg;\n    imagesRef.current.catcher.src = catcherImg;\n    imagesRef.current.background.src = backgroundImg;\n    backgroundMusicRef.current.loop = true;\n    return () => {\n      backgroundMusicRef.current.pause();\n    };\n  }, []);\n  const checkCollisions = useCallback(() => {\n    const newApples = state.apples.filter(apple => {\n      if (apple.y > CANVAS_HEIGHT * 0.7 && apple.y < CANVAS_HEIGHT * 0.85 && Math.abs(apple.x - state.playerPosition * CANVAS_WIDTH / 100) < CANVAS_WIDTH * 0.15) {\n        const scoreChange = apple.type === 'good' ? 10 : -20;\n        dispatch({\n          type: 'ADD_SCORE_ANIMATION',\n          payload: {\n            id: Date.now(),\n            x: state.playerPosition,\n            y: CANVAS_HEIGHT * 0.7,\n            score: scoreChange\n          }\n        });\n        setTimeout(() => {\n          dispatch({\n            type: 'REMOVE_SCORE_ANIMATION',\n            payload: Date.now()\n          });\n        }, 1000);\n        return false;\n      }\n      return apple.y < CANVAS_HEIGHT;\n    });\n    dispatch({\n      type: 'UPDATE_GAME_STATE',\n      payload: {\n        apples: newApples\n      }\n    });\n  }, [state.apples, state.playerPosition]);\n  const gameLoop = useCallback(timestamp => {\n    if (timestamp - lastUpdateTimeRef.current > 16) {\n      lastUpdateTimeRef.current = timestamp;\n      const newApples = state.apples.map(apple => ({\n        ...apple,\n        y: apple.y + CANVAS_HEIGHT * 0.005\n      })).filter(apple => apple.y < CANVAS_HEIGHT);\n      if (Math.random() < 0.02 && newApples.length < 5) {\n        newApples.push({\n          id: Date.now(),\n          x: Math.random() * CANVAS_WIDTH,\n          y: 0,\n          type: Math.random() > 0.2 ? 'good' : 'rotten'\n        });\n      }\n      dispatch({\n        type: 'UPDATE_GAME_STATE',\n        payload: {\n          apples: newApples\n        }\n      });\n      checkCollisions();\n      renderGame();\n    }\n    gameLoopRef.current = requestAnimationFrame(gameLoop);\n  }, [state.apples, checkCollisions]);\n  const renderGame = useCallback(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\n    // Рисуем фон\n    ctx.drawImage(imagesRef.current.background, 0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\n    // Рисуем яблоки\n    state.apples.forEach(apple => {\n      const img = apple.type === 'good' ? imagesRef.current.goodApple : imagesRef.current.rottenApple;\n      ctx.drawImage(img, apple.x, apple.y, CANVAS_WIDTH * 0.05, CANVAS_WIDTH * 0.05);\n    });\n\n    // Рисуем игрока\n    const playerX = state.playerPosition * CANVAS_WIDTH / 100 - CANVAS_WIDTH * 0.05;\n    ctx.drawImage(imagesRef.current.catcher, playerX, CANVAS_HEIGHT * 0.8, CANVAS_WIDTH * 0.1, CANVAS_WIDTH * 0.1);\n\n    // Рисуем анимации счета\n    ctx.font = '20px Arial';\n    state.scoreAnimations.forEach(anim => {\n      ctx.fillStyle = anim.score > 0 ? 'green' : 'red';\n      ctx.fillText(`${anim.score > 0 ? '+' : ''}${anim.score}`, anim.x * CANVAS_WIDTH / 100, anim.y);\n    });\n\n    // Рисуем счет и время\n    ctx.fillStyle = 'black';\n    ctx.font = '24px Arial';\n    ctx.fillText(`Score: ${state.score}`, 10, 30);\n    ctx.fillText(`Time: ${state.time}`, CANVAS_WIDTH - 100, 30);\n  }, [state]);\n  useEffect(() => {\n    if (state.gameStarted && state.time > 0) {\n      const timer = setInterval(() => {\n        dispatch({\n          type: 'UPDATE_GAME_STATE',\n          payload: {\n            time: state.time - 1\n          }\n        });\n      }, 1000);\n      return () => clearInterval(timer);\n    } else if (state.time === 0) {\n      endGame();\n    }\n  }, [state.gameStarted, state.time]);\n  useEffect(() => {\n    if (state.gameStarted) {\n      backgroundMusicRef.current.play();\n      gameLoopRef.current = requestAnimationFrame(gameLoop);\n    } else {\n      cancelAnimationFrame(gameLoopRef.current);\n      backgroundMusicRef.current.pause();\n    }\n    return () => cancelAnimationFrame(gameLoopRef.current);\n  }, [state.gameStarted, gameLoop]);\n  const playButtonClickSound = useCallback(() => {\n    buttonClickSoundRef.current.currentTime = 0;\n    buttonClickSoundRef.current.play();\n  }, []);\n  const startGame = useCallback(() => {\n    playButtonClickSound();\n    dispatch({\n      type: 'START_GAME'\n    });\n  }, [playButtonClickSound]);\n  const endGame = useCallback(() => {\n    dispatch({\n      type: 'END_GAME'\n    });\n    backgroundMusicRef.current.pause();\n  }, []);\n  const movePlayer = useCallback(e => {\n    if (state.gameStarted) {\n      const canvasRect = canvasRef.current.getBoundingClientRect();\n      const newPosition = (e.clientX - canvasRect.left) / canvasRect.width * 100;\n      dispatch({\n        type: 'UPDATE_PLAYER_POSITION',\n        payload: newPosition\n      });\n    }\n  }, [state.gameStarted]);\n  const handleResultClose = useCallback(() => {\n    playButtonClickSound();\n    dispatch({\n      type: 'UPDATE_GAME_STATE',\n      payload: {\n        showResult: false\n      }\n    });\n    onGameOver(Math.max(0, state.score));\n  }, [playButtonClickSound, state.score, onGameOver]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"apple-catcher\",\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: CANVAS_WIDTH,\n      height: CANVAS_HEIGHT,\n      onMouseMove: movePlayer,\n      onTouchMove: e => movePlayer(e.touches[0])\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), !state.gameStarted && !state.showResult && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"start-button\",\n      onClick: startGame,\n      children: \"Start Game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }, this), state.showResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"result-modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Game Over!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Your score: \", Math.max(0, state.score)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleResultClose,\n          children: \"OK\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 219,\n    columnNumber: 5\n  }, this);\n};\n_s(AppleCatcher, \"DVz75Au3iwkrr/BecFbE8J7Lx8E=\");\n_c = AppleCatcher;\nexport default _c2 = /*#__PURE__*/React.memo(AppleCatcher);\nvar _c, _c2;\n$RefreshReg$(_c, \"AppleCatcher\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useReducer","useEffect","useRef","useCallback","goodAppleImg","rottenAppleImg","catcherImg","backgroundImg","backgroundMusic","buttonClickSound","jsxDEV","_jsxDEV","CANVAS_WIDTH","CANVAS_HEIGHT","initialState","score","time","apples","playerPosition","gameStarted","showResult","scoreAnimations","gameReducer","state","action","type","payload","filter","anim","id","AppleCatcher","onGameOver","_s","dispatch","canvasRef","backgroundMusicRef","Audio","buttonClickSoundRef","gameLoopRef","lastUpdateTimeRef","imagesRef","goodApple","Image","rottenApple","catcher","background","current","src","loop","pause","checkCollisions","newApples","apple","y","Math","abs","x","scoreChange","Date","now","setTimeout","gameLoop","timestamp","map","random","length","push","renderGame","requestAnimationFrame","canvas","ctx","getContext","clearRect","drawImage","forEach","img","playerX","font","fillStyle","fillText","timer","setInterval","clearInterval","endGame","play","cancelAnimationFrame","playButtonClickSound","currentTime","startGame","movePlayer","e","canvasRect","getBoundingClientRect","newPosition","clientX","left","width","handleResultClose","max","className","children","ref","height","onMouseMove","onTouchMove","touches","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","_c2","memo","$RefreshReg$"],"sources":["C:/Users/valery-sm/project/Demo-GWC/frontend/src/Universes/EWI/src/games/apple-game/AppleCatcher.js"],"sourcesContent":["import React, { useReducer, useEffect, useRef, useCallback } from 'react';\r\nimport './AppleCatcher.css';\r\n\r\n// Предполагается, что эти импорты правильно настроены в вашем проекте\r\nimport goodAppleImg from './img/good-apple.png';\r\nimport rottenAppleImg from './img/rotten-apple.png';\r\nimport catcherImg from './img/catcher.png';\r\nimport backgroundImg from './img/background.png';\r\nimport backgroundMusic from './audio/background-music.mp3';\r\nimport buttonClickSound from './audio/button-click.mp3';\r\n\r\nconst CANVAS_WIDTH = 800;\r\nconst CANVAS_HEIGHT = 600;\r\n\r\nconst initialState = {\r\n  score: 0,\r\n  time: 60,\r\n  apples: [],\r\n  playerPosition: 50,\r\n  gameStarted: false,\r\n  showResult: false,\r\n  scoreAnimations: []\r\n};\r\n\r\nfunction gameReducer(state, action) {\r\n  switch (action.type) {\r\n    case 'START_GAME':\r\n      return { ...initialState, gameStarted: true };\r\n    case 'END_GAME':\r\n      return { ...state, gameStarted: false, showResult: true };\r\n    case 'UPDATE_PLAYER_POSITION':\r\n      return { ...state, playerPosition: action.payload };\r\n    case 'UPDATE_GAME_STATE':\r\n      return { ...state, ...action.payload };\r\n    case 'ADD_SCORE_ANIMATION':\r\n      return { \r\n        ...state, \r\n        scoreAnimations: [...state.scoreAnimations, action.payload],\r\n        score: state.score + action.payload.score\r\n      };\r\n    case 'REMOVE_SCORE_ANIMATION':\r\n      return {\r\n        ...state,\r\n        scoreAnimations: state.scoreAnimations.filter(anim => anim.id !== action.payload)\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst AppleCatcher = ({ onGameOver }) => {\r\n  const [state, dispatch] = useReducer(gameReducer, initialState);\r\n  const canvasRef = useRef(null);\r\n  const backgroundMusicRef = useRef(new Audio(backgroundMusic));\r\n  const buttonClickSoundRef = useRef(new Audio(buttonClickSound));\r\n  const gameLoopRef = useRef(null);\r\n  const lastUpdateTimeRef = useRef(0);\r\n\r\n  const imagesRef = useRef({\r\n    goodApple: new Image(),\r\n    rottenApple: new Image(),\r\n    catcher: new Image(),\r\n    background: new Image()\r\n  });\r\n\r\n  useEffect(() => {\r\n    imagesRef.current.goodApple.src = goodAppleImg;\r\n    imagesRef.current.rottenApple.src = rottenAppleImg;\r\n    imagesRef.current.catcher.src = catcherImg;\r\n    imagesRef.current.background.src = backgroundImg;\r\n    \r\n    backgroundMusicRef.current.loop = true;\r\n\r\n    return () => {\r\n      backgroundMusicRef.current.pause();\r\n    };\r\n  }, []);\r\n\r\n  const checkCollisions = useCallback(() => {\r\n    const newApples = state.apples.filter(apple => {\r\n      if (\r\n        apple.y > CANVAS_HEIGHT * 0.7 &&\r\n        apple.y < CANVAS_HEIGHT * 0.85 &&\r\n        Math.abs(apple.x - state.playerPosition * CANVAS_WIDTH / 100) < CANVAS_WIDTH * 0.15\r\n      ) {\r\n        const scoreChange = apple.type === 'good' ? 10 : -20;\r\n        dispatch({\r\n          type: 'ADD_SCORE_ANIMATION',\r\n          payload: {\r\n            id: Date.now(),\r\n            x: state.playerPosition,\r\n            y: CANVAS_HEIGHT * 0.7,\r\n            score: scoreChange\r\n          }\r\n        });\r\n        setTimeout(() => {\r\n          dispatch({ type: 'REMOVE_SCORE_ANIMATION', payload: Date.now() });\r\n        }, 1000);\r\n        return false;\r\n      }\r\n      return apple.y < CANVAS_HEIGHT;\r\n    });\r\n\r\n    dispatch({ type: 'UPDATE_GAME_STATE', payload: { apples: newApples } });\r\n  }, [state.apples, state.playerPosition]);\r\n\r\n  const gameLoop = useCallback((timestamp) => {\r\n    if (timestamp - lastUpdateTimeRef.current > 16) {\r\n      lastUpdateTimeRef.current = timestamp;\r\n      \r\n      const newApples = state.apples\r\n        .map(apple => ({ ...apple, y: apple.y + CANVAS_HEIGHT * 0.005 }))\r\n        .filter(apple => apple.y < CANVAS_HEIGHT);\r\n\r\n      if (Math.random() < 0.02 && newApples.length < 5) {\r\n        newApples.push({\r\n          id: Date.now(),\r\n          x: Math.random() * CANVAS_WIDTH,\r\n          y: 0,\r\n          type: Math.random() > 0.2 ? 'good' : 'rotten',\r\n        });\r\n      }\r\n\r\n      dispatch({ type: 'UPDATE_GAME_STATE', payload: { apples: newApples } });\r\n      checkCollisions();\r\n      renderGame();\r\n    }\r\n\r\n    gameLoopRef.current = requestAnimationFrame(gameLoop);\r\n  }, [state.apples, checkCollisions]);\r\n\r\n  const renderGame = useCallback(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\r\n    // Рисуем фон\r\n    ctx.drawImage(imagesRef.current.background, 0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\r\n    // Рисуем яблоки\r\n    state.apples.forEach(apple => {\r\n      const img = apple.type === 'good' ? imagesRef.current.goodApple : imagesRef.current.rottenApple;\r\n      ctx.drawImage(img, apple.x, apple.y, CANVAS_WIDTH * 0.05, CANVAS_WIDTH * 0.05);\r\n    });\r\n\r\n    // Рисуем игрока\r\n    const playerX = state.playerPosition * CANVAS_WIDTH / 100 - CANVAS_WIDTH * 0.05;\r\n    ctx.drawImage(imagesRef.current.catcher, playerX, CANVAS_HEIGHT * 0.8, CANVAS_WIDTH * 0.1, CANVAS_WIDTH * 0.1);\r\n\r\n    // Рисуем анимации счета\r\n    ctx.font = '20px Arial';\r\n    state.scoreAnimations.forEach(anim => {\r\n      ctx.fillStyle = anim.score > 0 ? 'green' : 'red';\r\n      ctx.fillText(`${anim.score > 0 ? '+' : ''}${anim.score}`, anim.x * CANVAS_WIDTH / 100, anim.y);\r\n    });\r\n\r\n    // Рисуем счет и время\r\n    ctx.fillStyle = 'black';\r\n    ctx.font = '24px Arial';\r\n    ctx.fillText(`Score: ${state.score}`, 10, 30);\r\n    ctx.fillText(`Time: ${state.time}`, CANVAS_WIDTH - 100, 30);\r\n\r\n  }, [state]);\r\n\r\n  useEffect(() => {\r\n    if (state.gameStarted && state.time > 0) {\r\n      const timer = setInterval(() => {\r\n        dispatch({ type: 'UPDATE_GAME_STATE', payload: { time: state.time - 1 } });\r\n      }, 1000);\r\n\r\n      return () => clearInterval(timer);\r\n    } else if (state.time === 0) {\r\n      endGame();\r\n    }\r\n  }, [state.gameStarted, state.time]);\r\n\r\n  useEffect(() => {\r\n    if (state.gameStarted) {\r\n      backgroundMusicRef.current.play();\r\n      gameLoopRef.current = requestAnimationFrame(gameLoop);\r\n    } else {\r\n      cancelAnimationFrame(gameLoopRef.current);\r\n      backgroundMusicRef.current.pause();\r\n    }\r\n\r\n    return () => cancelAnimationFrame(gameLoopRef.current);\r\n  }, [state.gameStarted, gameLoop]);\r\n\r\n  const playButtonClickSound = useCallback(() => {\r\n    buttonClickSoundRef.current.currentTime = 0;\r\n    buttonClickSoundRef.current.play();\r\n  }, []);\r\n\r\n  const startGame = useCallback(() => {\r\n    playButtonClickSound();\r\n    dispatch({ type: 'START_GAME' });\r\n  }, [playButtonClickSound]);\r\n\r\n  const endGame = useCallback(() => {\r\n    dispatch({ type: 'END_GAME' });\r\n    backgroundMusicRef.current.pause();\r\n  }, []);\r\n\r\n  const movePlayer = useCallback((e) => {\r\n    if (state.gameStarted) {\r\n      const canvasRect = canvasRef.current.getBoundingClientRect();\r\n      const newPosition = ((e.clientX - canvasRect.left) / canvasRect.width) * 100;\r\n      dispatch({ type: 'UPDATE_PLAYER_POSITION', payload: newPosition });\r\n    }\r\n  }, [state.gameStarted]);\r\n\r\n  const handleResultClose = useCallback(() => {\r\n    playButtonClickSound();\r\n    dispatch({ type: 'UPDATE_GAME_STATE', payload: { showResult: false } });\r\n    onGameOver(Math.max(0, state.score));\r\n  }, [playButtonClickSound, state.score, onGameOver]);\r\n\r\n  return (\r\n    <div className=\"apple-catcher\">\r\n      <canvas \r\n        ref={canvasRef} \r\n        width={CANVAS_WIDTH} \r\n        height={CANVAS_HEIGHT} \r\n        onMouseMove={movePlayer}\r\n        onTouchMove={(e) => movePlayer(e.touches[0])}\r\n      />\r\n      {!state.gameStarted && !state.showResult && (\r\n        <button className=\"start-button\" onClick={startGame}>Start Game</button>\r\n      )}\r\n      {state.showResult && (\r\n        <div className=\"result-modal\">\r\n          <div className=\"result-content\">\r\n            <h2>Game Over!</h2>\r\n            <p>Your score: {Math.max(0, state.score)}</p>\r\n            <button onClick={handleResultClose}>OK</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(AppleCatcher);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}