{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst GlobalScore = {\n  scoreEWI: 0,\n  appleCatcherScore: 0,\n  purblePairsScore: 0,\n  getScore: function () {\n    return this.scoreEWI;\n  },\n  updateScore: function (gameType, score) {\n    switch (gameType) {\n      case 'appleCatcher':\n        this.appleCatcherScore = score;\n        break;\n      case 'purblePairs':\n        this.purblePairsScore = score;\n        break;\n      case 'eatsApp':\n        this.scoreEWI = score;\n        break;\n      default:\n        console.error('Unknown game type:', gameType);\n    }\n    this.scoreEWI = Math.max(this.scoreEWI, this.appleCatcherScore + this.purblePairsScore);\n    this.saveToLocalStorage();\n  },\n  saveToLocalStorage: function () {\n    localStorage.setItem('globalScore', JSON.stringify({\n      scoreEWI: this.scoreEWI,\n      appleCatcherScore: this.appleCatcherScore,\n      purblePairsScore: this.purblePairsScore\n    }));\n  },\n  loadFromLocalStorage: function () {\n    const savedScore = localStorage.getItem('globalScore');\n    if (savedScore) {\n      const parsedScore = JSON.parse(savedScore);\n      this.scoreEWI = parsedScore.scoreEWI;\n      this.appleCatcherScore = parsedScore.appleCatcherScore;\n      this.purblePairsScore = parsedScore.purblePairsScore;\n    }\n  },\n  useGlobalScore: _s(function () {\n    _s();\n    const [score, setScore] = useState(this.scoreEWI);\n    useEffect(() => {\n      this.loadFromLocalStorage();\n      setScore(this.scoreEWI);\n    }, []);\n    return [score, (gameType, newScore) => {\n      this.updateScore(gameType, newScore);\n      setScore(this.scoreEWI);\n    }];\n  }, \"UlTNtqIaUXOF3yL/+m4q907ii2k=\")\n};\nexport default GlobalScore;","map":{"version":3,"names":["useState","useEffect","GlobalScore","scoreEWI","appleCatcherScore","purblePairsScore","getScore","updateScore","gameType","score","console","error","Math","max","saveToLocalStorage","localStorage","setItem","JSON","stringify","loadFromLocalStorage","savedScore","getItem","parsedScore","parse","useGlobalScore","_s","setScore","newScore"],"sources":["C:/Users/valery-sm/project/Demo-GWC/frontend/src/Universes/EWI/src/GlobalScore.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nconst GlobalScore = {\r\n  scoreEWI: 0,\r\n  appleCatcherScore: 0,\r\n  purblePairsScore: 0,\r\n\r\n  getScore: function() {\r\n    return this.scoreEWI;\r\n  },\r\n\r\n  updateScore: function(gameType, score) {\r\n    switch(gameType) {\r\n      case 'appleCatcher':\r\n        this.appleCatcherScore = score;\r\n        break;\r\n      case 'purblePairs':\r\n        this.purblePairsScore = score;\r\n        break;\r\n      case 'eatsApp':\r\n        this.scoreEWI = score;\r\n        break;\r\n      default:\r\n        console.error('Unknown game type:', gameType);\r\n    }\r\n    this.scoreEWI = Math.max(this.scoreEWI, this.appleCatcherScore + this.purblePairsScore);\r\n    this.saveToLocalStorage();\r\n  },\r\n\r\n  saveToLocalStorage: function() {\r\n    localStorage.setItem('globalScore', JSON.stringify({\r\n      scoreEWI: this.scoreEWI,\r\n      appleCatcherScore: this.appleCatcherScore,\r\n      purblePairsScore: this.purblePairsScore\r\n    }));\r\n  },\r\n\r\n  loadFromLocalStorage: function() {\r\n    const savedScore = localStorage.getItem('globalScore');\r\n    if (savedScore) {\r\n      const parsedScore = JSON.parse(savedScore);\r\n      this.scoreEWI = parsedScore.scoreEWI;\r\n      this.appleCatcherScore = parsedScore.appleCatcherScore;\r\n      this.purblePairsScore = parsedScore.purblePairsScore;\r\n    }\r\n  },\r\n\r\n  useGlobalScore: function() {\r\n    const [score, setScore] = useState(this.scoreEWI);\r\n\r\n    useEffect(() => {\r\n      this.loadFromLocalStorage();\r\n      setScore(this.scoreEWI);\r\n    }, []);\r\n\r\n    return [score, (gameType, newScore) => {\r\n      this.updateScore(gameType, newScore);\r\n      setScore(this.scoreEWI);\r\n    }];\r\n  }\r\n};\r\n\r\nexport default GlobalScore;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,MAAMC,WAAW,GAAG;EAClBC,QAAQ,EAAE,CAAC;EACXC,iBAAiB,EAAE,CAAC;EACpBC,gBAAgB,EAAE,CAAC;EAEnBC,QAAQ,EAAE,SAAAA,CAAA,EAAW;IACnB,OAAO,IAAI,CAACH,QAAQ;EACtB,CAAC;EAEDI,WAAW,EAAE,SAAAA,CAASC,QAAQ,EAAEC,KAAK,EAAE;IACrC,QAAOD,QAAQ;MACb,KAAK,cAAc;QACjB,IAAI,CAACJ,iBAAiB,GAAGK,KAAK;QAC9B;MACF,KAAK,aAAa;QAChB,IAAI,CAACJ,gBAAgB,GAAGI,KAAK;QAC7B;MACF,KAAK,SAAS;QACZ,IAAI,CAACN,QAAQ,GAAGM,KAAK;QACrB;MACF;QACEC,OAAO,CAACC,KAAK,CAAC,oBAAoB,EAAEH,QAAQ,CAAC;IACjD;IACA,IAAI,CAACL,QAAQ,GAAGS,IAAI,CAACC,GAAG,CAAC,IAAI,CAACV,QAAQ,EAAE,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACC,gBAAgB,CAAC;IACvF,IAAI,CAACS,kBAAkB,CAAC,CAAC;EAC3B,CAAC;EAEDA,kBAAkB,EAAE,SAAAA,CAAA,EAAW;IAC7BC,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEC,IAAI,CAACC,SAAS,CAAC;MACjDf,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvBC,iBAAiB,EAAE,IAAI,CAACA,iBAAiB;MACzCC,gBAAgB,EAAE,IAAI,CAACA;IACzB,CAAC,CAAC,CAAC;EACL,CAAC;EAEDc,oBAAoB,EAAE,SAAAA,CAAA,EAAW;IAC/B,MAAMC,UAAU,GAAGL,YAAY,CAACM,OAAO,CAAC,aAAa,CAAC;IACtD,IAAID,UAAU,EAAE;MACd,MAAME,WAAW,GAAGL,IAAI,CAACM,KAAK,CAACH,UAAU,CAAC;MAC1C,IAAI,CAACjB,QAAQ,GAAGmB,WAAW,CAACnB,QAAQ;MACpC,IAAI,CAACC,iBAAiB,GAAGkB,WAAW,CAAClB,iBAAiB;MACtD,IAAI,CAACC,gBAAgB,GAAGiB,WAAW,CAACjB,gBAAgB;IACtD;EACF,CAAC;EAEDmB,cAAc,EAAAC,EAAA,CAAE,YAAW;IAAAA,EAAA;IACzB,MAAM,CAAChB,KAAK,EAAEiB,QAAQ,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAACG,QAAQ,CAAC;IAEjDF,SAAS,CAAC,MAAM;MACd,IAAI,CAACkB,oBAAoB,CAAC,CAAC;MAC3BO,QAAQ,CAAC,IAAI,CAACvB,QAAQ,CAAC;IACzB,CAAC,EAAE,EAAE,CAAC;IAEN,OAAO,CAACM,KAAK,EAAE,CAACD,QAAQ,EAAEmB,QAAQ,KAAK;MACrC,IAAI,CAACpB,WAAW,CAACC,QAAQ,EAAEmB,QAAQ,CAAC;MACpCD,QAAQ,CAAC,IAAI,CAACvB,QAAQ,CAAC;IACzB,CAAC,CAAC;EACJ,CAAC;AACH,CAAC;AAED,eAAeD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}