{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\valery-sm\\\\project\\\\Demo-GWC\\\\frontend\\\\src\\\\Universes\\\\EWI\\\\src\\\\games\\\\apple-game\\\\AppleCatcher.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer, useEffect, useRef, useCallback } from 'react';\nimport './AppleCatcher.css';\n\n// Предполагается, что эти импорты правильно настроены в вашем проекте\nimport goodAppleImg from './img/good-apple.png';\nimport rottenAppleImg from './img/rotten-apple.png';\nimport catcherImg from './img/catcher.png';\nimport backgroundImg from './img/background.png';\nimport backgroundMusic from './audio/background-music.mp3';\nimport buttonClickSound from './audio/button-click.mp3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CANVAS_WIDTH = 800;\nconst CANVAS_HEIGHT = 600;\nconst initialState = {\n  score: 0,\n  time: 60,\n  apples: [],\n  playerPosition: 50,\n  gameStarted: false,\n  showResult: false,\n  scoreAnimations: []\n};\nfunction gameReducer(state, action) {\n  switch (action.type) {\n    case 'START_GAME':\n      return {\n        ...initialState,\n        gameStarted: true\n      };\n    case 'END_GAME':\n      return {\n        ...state,\n        gameStarted: false,\n        showResult: true\n      };\n    case 'UPDATE_PLAYER_POSITION':\n      return {\n        ...state,\n        playerPosition: action.payload\n      };\n    case 'UPDATE_GAME_STATE':\n      return {\n        ...state,\n        ...action.payload\n      };\n    case 'ADD_SCORE_ANIMATION':\n      return {\n        ...state,\n        scoreAnimations: [...state.scoreAnimations, action.payload],\n        score: state.score + action.payload.score\n      };\n    case 'REMOVE_SCORE_ANIMATION':\n      return {\n        ...state,\n        scoreAnimations: state.scoreAnimations.filter(anim => anim.id !== action.payload)\n      };\n    default:\n      return state;\n  }\n}\nconst AppleCatcher = ({\n  onGameOver\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(gameReducer, initialState);\n  const canvasRef = useRef(null);\n  const backgroundMusicRef = useRef(new Audio(backgroundMusic));\n  const buttonClickSoundRef = useRef(new Audio(buttonClickSound));\n  const gameLoopRef = useRef(null);\n  const lastUpdateTimeRef = useRef(0);\n  const imagesRef = useRef({\n    goodApple: new Image(),\n    rottenApple: new Image(),\n    catcher: new Image(),\n    background: new Image()\n  });\n  useEffect(() => {\n    imagesRef.current.goodApple.src = goodAppleImg;\n    imagesRef.current.rottenApple.src = rottenAppleImg;\n    imagesRef.current.catcher.src = catcherImg;\n    imagesRef.current.background.src = backgroundImg;\n    backgroundMusicRef.current.loop = true;\n    return () => {\n      backgroundMusicRef.current.pause();\n    };\n  }, []);\n  const checkCollisions = useCallback(() => {\n    const catcherWidth = CANVAS_WIDTH * 0.1; // Ширина ловца\n    const catcherHeight = CANVAS_WIDTH * 0.1; // Высота ловца\n    const catcherTop = CANVAS_HEIGHT * 0.8; // Верхняя граница ловца\n    const catcherBottom = catcherTop + catcherHeight; // Нижняя граница ловца\n\n    const newApples = state.apples.filter(apple => {\n      const appleSize = CANVAS_WIDTH * 0.05; // Размер яблока\n      const appleCenterX = apple.x + appleSize / 2;\n      const appleCenterY = apple.y + appleSize / 2;\n      const catcherCenterX = state.playerPosition * CANVAS_WIDTH / 100;\n      if (appleCenterY > catcherTop && appleCenterY < catcherBottom && Math.abs(appleCenterX - catcherCenterX) < catcherWidth / 2) {\n        const scoreChange = apple.type === 'good' ? 10 : -20;\n        dispatch({\n          type: 'ADD_SCORE_ANIMATION',\n          payload: {\n            id: Date.now(),\n            x: catcherCenterX,\n            y: catcherTop,\n            score: scoreChange\n          }\n        });\n        setTimeout(() => {\n          dispatch({\n            type: 'REMOVE_SCORE_ANIMATION',\n            payload: Date.now()\n          });\n        }, 1000);\n        return false;\n      }\n      return apple.y < CANVAS_HEIGHT;\n    });\n    dispatch({\n      type: 'UPDATE_GAME_STATE',\n      payload: {\n        apples: newApples\n      }\n    });\n  }, [state.apples, state.playerPosition]);\n  const gameLoop = useCallback(timestamp => {\n    if (timestamp - lastUpdateTimeRef.current > 16) {\n      lastUpdateTimeRef.current = timestamp;\n      const newApples = state.apples.map(apple => ({\n        ...apple,\n        y: apple.y + CANVAS_HEIGHT * 0.005\n      })).filter(apple => apple.y < CANVAS_HEIGHT);\n      if (Math.random() < 0.02 && newApples.length < 5) {\n        newApples.push({\n          id: Date.now(),\n          x: Math.random() * CANVAS_WIDTH,\n          y: 0,\n          type: Math.random() > 0.2 ? 'good' : 'rotten'\n        });\n      }\n      dispatch({\n        type: 'UPDATE_GAME_STATE',\n        payload: {\n          apples: newApples\n        }\n      });\n      checkCollisions();\n      renderGame();\n    }\n    gameLoopRef.current = requestAnimationFrame(gameLoop);\n  }, [state.apples, checkCollisions]);\n  const renderGame = useCallback(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\n    // Рисуем фон\n    ctx.drawImage(imagesRef.current.background, 0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\n    // Рисуем яблоки\n    state.apples.forEach(apple => {\n      const img = apple.type === 'good' ? imagesRef.current.goodApple : imagesRef.current.rottenApple;\n      ctx.drawImage(img, apple.x, apple.y, CANVAS_WIDTH * 0.05, CANVAS_WIDTH * 0.05);\n    });\n\n    // Рисуем игрока\n    const catcherWidth = CANVAS_WIDTH * 0.1;\n    const catcherHeight = CANVAS_WIDTH * 0.1;\n    const playerX = state.playerPosition * CANVAS_WIDTH / 100 - catcherWidth / 2;\n    const playerY = CANVAS_HEIGHT * 0.8;\n    ctx.drawImage(imagesRef.current.catcher, playerX, playerY, catcherWidth, catcherHeight);\n\n    // Рисуем анимации счета\n    ctx.font = '20px Arial';\n    state.scoreAnimations.forEach(anim => {\n      ctx.fillStyle = anim.score > 0 ? 'green' : 'red';\n      ctx.fillText(`${anim.score > 0 ? '+' : ''}${anim.score}`, anim.x, anim.y);\n    });\n\n    // Рисуем счет и время\n    ctx.fillStyle = 'black';\n    ctx.font = '24px Arial';\n    ctx.fillText(`Score: ${state.score}`, 10, 30);\n    ctx.fillText(`Time: ${state.time}`, CANVAS_WIDTH - 100, 30);\n  }, [state]);\n  useEffect(() => {\n    if (state.gameStarted && state.time > 0) {\n      const timer = setInterval(() => {\n        dispatch({\n          type: 'UPDATE_GAME_STATE',\n          payload: {\n            time: state.time - 1\n          }\n        });\n      }, 1000);\n      return () => clearInterval(timer);\n    } else if (state.time === 0) {\n      endGame();\n    }\n  }, [state.gameStarted, state.time]);\n  useEffect(() => {\n    if (state.gameStarted) {\n      backgroundMusicRef.current.play();\n      gameLoopRef.current = requestAnimationFrame(gameLoop);\n    } else {\n      cancelAnimationFrame(gameLoopRef.current);\n      backgroundMusicRef.current.pause();\n    }\n    return () => cancelAnimationFrame(gameLoopRef.current);\n  }, [state.gameStarted, gameLoop]);\n  const playButtonClickSound = useCallback(() => {\n    buttonClickSoundRef.current.currentTime = 0;\n    buttonClickSoundRef.current.play();\n  }, []);\n  const startGame = useCallback(() => {\n    playButtonClickSound();\n    dispatch({\n      type: 'START_GAME'\n    });\n  }, [playButtonClickSound]);\n  const endGame = useCallback(() => {\n    dispatch({\n      type: 'END_GAME'\n    });\n    backgroundMusicRef.current.pause();\n  }, []);\n  const movePlayer = useCallback(e => {\n    if (state.gameStarted) {\n      const canvasRect = canvasRef.current.getBoundingClientRect();\n      const catcherWidth = CANVAS_WIDTH * 0.1;\n      let newPosition = (e.clientX - canvasRect.left) / canvasRect.width * 100;\n\n      // Ограничение движения ловца границами экрана\n      newPosition = Math.max(catcherWidth / 2 / CANVAS_WIDTH * 100, newPosition);\n      newPosition = Math.min(100 - catcherWidth / 2 / CANVAS_WIDTH * 100, newPosition);\n      dispatch({\n        type: 'UPDATE_PLAYER_POSITION',\n        payload: newPosition\n      });\n    }\n  }, [state.gameStarted]);\n  const handleResultClose = useCallback(() => {\n    playButtonClickSound();\n    dispatch({\n      type: 'UPDATE_GAME_STATE',\n      payload: {\n        showResult: false\n      }\n    });\n    onGameOver(Math.max(0, state.score));\n  }, [playButtonClickSound, state.score, onGameOver]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"apple-catcher\",\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: CANVAS_WIDTH,\n      height: CANVAS_HEIGHT,\n      onMouseMove: movePlayer,\n      onTouchMove: e => movePlayer(e.touches[0])\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), !state.gameStarted && !state.showResult && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"start-button\",\n      onClick: startGame,\n      children: \"Start Game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this), state.showResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"result-modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Game Over!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Your score: \", Math.max(0, state.score)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleResultClose,\n          children: \"OK\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n};\n_s(AppleCatcher, \"DVz75Au3iwkrr/BecFbE8J7Lx8E=\");\n_c = AppleCatcher;\nexport default _c2 = /*#__PURE__*/React.memo(AppleCatcher);\nvar _c, _c2;\n$RefreshReg$(_c, \"AppleCatcher\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useReducer","useEffect","useRef","useCallback","goodAppleImg","rottenAppleImg","catcherImg","backgroundImg","backgroundMusic","buttonClickSound","jsxDEV","_jsxDEV","CANVAS_WIDTH","CANVAS_HEIGHT","initialState","score","time","apples","playerPosition","gameStarted","showResult","scoreAnimations","gameReducer","state","action","type","payload","filter","anim","id","AppleCatcher","onGameOver","_s","dispatch","canvasRef","backgroundMusicRef","Audio","buttonClickSoundRef","gameLoopRef","lastUpdateTimeRef","imagesRef","goodApple","Image","rottenApple","catcher","background","current","src","loop","pause","checkCollisions","catcherWidth","catcherHeight","catcherTop","catcherBottom","newApples","apple","appleSize","appleCenterX","x","appleCenterY","y","catcherCenterX","Math","abs","scoreChange","Date","now","setTimeout","gameLoop","timestamp","map","random","length","push","renderGame","requestAnimationFrame","canvas","ctx","getContext","clearRect","drawImage","forEach","img","playerX","playerY","font","fillStyle","fillText","timer","setInterval","clearInterval","endGame","play","cancelAnimationFrame","playButtonClickSound","currentTime","startGame","movePlayer","e","canvasRect","getBoundingClientRect","newPosition","clientX","left","width","max","min","handleResultClose","className","children","ref","height","onMouseMove","onTouchMove","touches","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","_c2","memo","$RefreshReg$"],"sources":["C:/Users/valery-sm/project/Demo-GWC/frontend/src/Universes/EWI/src/games/apple-game/AppleCatcher.js"],"sourcesContent":["import React, { useReducer, useEffect, useRef, useCallback } from 'react';\r\nimport './AppleCatcher.css';\r\n\r\n// Предполагается, что эти импорты правильно настроены в вашем проекте\r\nimport goodAppleImg from './img/good-apple.png';\r\nimport rottenAppleImg from './img/rotten-apple.png';\r\nimport catcherImg from './img/catcher.png';\r\nimport backgroundImg from './img/background.png';\r\nimport backgroundMusic from './audio/background-music.mp3';\r\nimport buttonClickSound from './audio/button-click.mp3';\r\n\r\nconst CANVAS_WIDTH = 800;\r\nconst CANVAS_HEIGHT = 600;\r\n\r\nconst initialState = {\r\n  score: 0,\r\n  time: 60,\r\n  apples: [],\r\n  playerPosition: 50,\r\n  gameStarted: false,\r\n  showResult: false,\r\n  scoreAnimations: []\r\n};\r\n\r\nfunction gameReducer(state, action) {\r\n  switch (action.type) {\r\n    case 'START_GAME':\r\n      return { ...initialState, gameStarted: true };\r\n    case 'END_GAME':\r\n      return { ...state, gameStarted: false, showResult: true };\r\n    case 'UPDATE_PLAYER_POSITION':\r\n      return { ...state, playerPosition: action.payload };\r\n    case 'UPDATE_GAME_STATE':\r\n      return { ...state, ...action.payload };\r\n    case 'ADD_SCORE_ANIMATION':\r\n      return { \r\n        ...state, \r\n        scoreAnimations: [...state.scoreAnimations, action.payload],\r\n        score: state.score + action.payload.score\r\n      };\r\n    case 'REMOVE_SCORE_ANIMATION':\r\n      return {\r\n        ...state,\r\n        scoreAnimations: state.scoreAnimations.filter(anim => anim.id !== action.payload)\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst AppleCatcher = ({ onGameOver }) => {\r\n  const [state, dispatch] = useReducer(gameReducer, initialState);\r\n  const canvasRef = useRef(null);\r\n  const backgroundMusicRef = useRef(new Audio(backgroundMusic));\r\n  const buttonClickSoundRef = useRef(new Audio(buttonClickSound));\r\n  const gameLoopRef = useRef(null);\r\n  const lastUpdateTimeRef = useRef(0);\r\n\r\n  const imagesRef = useRef({\r\n    goodApple: new Image(),\r\n    rottenApple: new Image(),\r\n    catcher: new Image(),\r\n    background: new Image()\r\n  });\r\n\r\n  useEffect(() => {\r\n    imagesRef.current.goodApple.src = goodAppleImg;\r\n    imagesRef.current.rottenApple.src = rottenAppleImg;\r\n    imagesRef.current.catcher.src = catcherImg;\r\n    imagesRef.current.background.src = backgroundImg;\r\n    \r\n    backgroundMusicRef.current.loop = true;\r\n\r\n    return () => {\r\n      backgroundMusicRef.current.pause();\r\n    };\r\n  }, []);\r\n\r\n  const checkCollisions = useCallback(() => {\r\n    const catcherWidth = CANVAS_WIDTH * 0.1; // Ширина ловца\r\n    const catcherHeight = CANVAS_WIDTH * 0.1; // Высота ловца\r\n    const catcherTop = CANVAS_HEIGHT * 0.8; // Верхняя граница ловца\r\n    const catcherBottom = catcherTop + catcherHeight; // Нижняя граница ловца\r\n\r\n    const newApples = state.apples.filter(apple => {\r\n      const appleSize = CANVAS_WIDTH * 0.05; // Размер яблока\r\n      const appleCenterX = apple.x + appleSize / 2;\r\n      const appleCenterY = apple.y + appleSize / 2;\r\n      \r\n      const catcherCenterX = state.playerPosition * CANVAS_WIDTH / 100;\r\n      \r\n      if (\r\n        appleCenterY > catcherTop &&\r\n        appleCenterY < catcherBottom &&\r\n        Math.abs(appleCenterX - catcherCenterX) < catcherWidth / 2\r\n      ) {\r\n        const scoreChange = apple.type === 'good' ? 10 : -20;\r\n        dispatch({\r\n          type: 'ADD_SCORE_ANIMATION',\r\n          payload: {\r\n            id: Date.now(),\r\n            x: catcherCenterX,\r\n            y: catcherTop,\r\n            score: scoreChange\r\n          }\r\n        });\r\n        setTimeout(() => {\r\n          dispatch({ type: 'REMOVE_SCORE_ANIMATION', payload: Date.now() });\r\n        }, 1000);\r\n        return false;\r\n      }\r\n      return apple.y < CANVAS_HEIGHT;\r\n    });\r\n\r\n    dispatch({ type: 'UPDATE_GAME_STATE', payload: { apples: newApples } });\r\n  }, [state.apples, state.playerPosition]);\r\n\r\n  const gameLoop = useCallback((timestamp) => {\r\n    if (timestamp - lastUpdateTimeRef.current > 16) {\r\n      lastUpdateTimeRef.current = timestamp;\r\n      \r\n      const newApples = state.apples\r\n        .map(apple => ({ ...apple, y: apple.y + CANVAS_HEIGHT * 0.005 }))\r\n        .filter(apple => apple.y < CANVAS_HEIGHT);\r\n\r\n      if (Math.random() < 0.02 && newApples.length < 5) {\r\n        newApples.push({\r\n          id: Date.now(),\r\n          x: Math.random() * CANVAS_WIDTH,\r\n          y: 0,\r\n          type: Math.random() > 0.2 ? 'good' : 'rotten',\r\n        });\r\n      }\r\n\r\n      dispatch({ type: 'UPDATE_GAME_STATE', payload: { apples: newApples } });\r\n      checkCollisions();\r\n      renderGame();\r\n    }\r\n\r\n    gameLoopRef.current = requestAnimationFrame(gameLoop);\r\n  }, [state.apples, checkCollisions]);\r\n\r\n  const renderGame = useCallback(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\r\n    // Рисуем фон\r\n    ctx.drawImage(imagesRef.current.background, 0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\r\n    // Рисуем яблоки\r\n    state.apples.forEach(apple => {\r\n      const img = apple.type === 'good' ? imagesRef.current.goodApple : imagesRef.current.rottenApple;\r\n      ctx.drawImage(img, apple.x, apple.y, CANVAS_WIDTH * 0.05, CANVAS_WIDTH * 0.05);\r\n    });\r\n\r\n    // Рисуем игрока\r\n    const catcherWidth = CANVAS_WIDTH * 0.1;\r\n    const catcherHeight = CANVAS_WIDTH * 0.1;\r\n    const playerX = state.playerPosition * CANVAS_WIDTH / 100 - catcherWidth / 2;\r\n    const playerY = CANVAS_HEIGHT * 0.8;\r\n    ctx.drawImage(imagesRef.current.catcher, playerX, playerY, catcherWidth, catcherHeight);\r\n\r\n    // Рисуем анимации счета\r\n    ctx.font = '20px Arial';\r\n    state.scoreAnimations.forEach(anim => {\r\n      ctx.fillStyle = anim.score > 0 ? 'green' : 'red';\r\n      ctx.fillText(`${anim.score > 0 ? '+' : ''}${anim.score}`, anim.x, anim.y);\r\n    });\r\n\r\n    // Рисуем счет и время\r\n    ctx.fillStyle = 'black';\r\n    ctx.font = '24px Arial';\r\n    ctx.fillText(`Score: ${state.score}`, 10, 30);\r\n    ctx.fillText(`Time: ${state.time}`, CANVAS_WIDTH - 100, 30);\r\n\r\n  }, [state]);\r\n\r\n  useEffect(() => {\r\n    if (state.gameStarted && state.time > 0) {\r\n      const timer = setInterval(() => {\r\n        dispatch({ type: 'UPDATE_GAME_STATE', payload: { time: state.time - 1 } });\r\n      }, 1000);\r\n\r\n      return () => clearInterval(timer);\r\n    } else if (state.time === 0) {\r\n      endGame();\r\n    }\r\n  }, [state.gameStarted, state.time]);\r\n\r\n  useEffect(() => {\r\n    if (state.gameStarted) {\r\n      backgroundMusicRef.current.play();\r\n      gameLoopRef.current = requestAnimationFrame(gameLoop);\r\n    } else {\r\n      cancelAnimationFrame(gameLoopRef.current);\r\n      backgroundMusicRef.current.pause();\r\n    }\r\n\r\n    return () => cancelAnimationFrame(gameLoopRef.current);\r\n  }, [state.gameStarted, gameLoop]);\r\n\r\n  const playButtonClickSound = useCallback(() => {\r\n    buttonClickSoundRef.current.currentTime = 0;\r\n    buttonClickSoundRef.current.play();\r\n  }, []);\r\n\r\n  const startGame = useCallback(() => {\r\n    playButtonClickSound();\r\n    dispatch({ type: 'START_GAME' });\r\n  }, [playButtonClickSound]);\r\n\r\n  const endGame = useCallback(() => {\r\n    dispatch({ type: 'END_GAME' });\r\n    backgroundMusicRef.current.pause();\r\n  }, []);\r\n\r\n  const movePlayer = useCallback((e) => {\r\n    if (state.gameStarted) {\r\n      const canvasRect = canvasRef.current.getBoundingClientRect();\r\n      const catcherWidth = CANVAS_WIDTH * 0.1;\r\n      let newPosition = ((e.clientX - canvasRect.left) / canvasRect.width) * 100;\r\n      \r\n      // Ограничение движения ловца границами экрана\r\n      newPosition = Math.max(catcherWidth / 2 / CANVAS_WIDTH * 100, newPosition);\r\n      newPosition = Math.min(100 - catcherWidth / 2 / CANVAS_WIDTH * 100, newPosition);\r\n      \r\n      dispatch({ type: 'UPDATE_PLAYER_POSITION', payload: newPosition });\r\n    }\r\n  }, [state.gameStarted]);\r\n\r\n  const handleResultClose = useCallback(() => {\r\n    playButtonClickSound();\r\n    dispatch({ type: 'UPDATE_GAME_STATE', payload: { showResult: false } });\r\n    onGameOver(Math.max(0, state.score));\r\n  }, [playButtonClickSound, state.score, onGameOver]);\r\n\r\n  return (\r\n    <div className=\"apple-catcher\">\r\n      <canvas \r\n        ref={canvasRef} \r\n        width={CANVAS_WIDTH} \r\n        height={CANVAS_HEIGHT} \r\n        onMouseMove={movePlayer}\r\n        onTouchMove={(e) => movePlayer(e.touches[0])}\r\n      />\r\n      {!state.gameStarted && !state.showResult && (\r\n        <button className=\"start-button\" onClick={startGame}>Start Game</button>\r\n      )}\r\n      {state.showResult && (\r\n        <div className=\"result-modal\">\r\n          <div className=\"result-content\">\r\n            <h2>Game Over!</h2>\r\n            <p>Your score: {Math.max(0, state.score)}</p>\r\n            <button onClick={handleResultClose}>OK</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(AppleCatcher);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}