{"ast":null,"code":"import React,{useState,useEffect}from'react';import Score from'./comp/Score';import'./css/EWE.css';import FarmButton from'./comp/FarmButton';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Ewe(){const[tokens,setTokens]=useState(()=>{const savedTokens=localStorage.getItem('tokens');return savedTokens?parseFloat(savedTokens):0;});const[farmedTokens,setFarmedTokens]=useState(()=>{const savedFarmedTokens=localStorage.getItem('farmedTokens');return savedFarmedTokens?parseFloat(savedFarmedTokens):0;});const[isFarming,setIsFarming]=useState(()=>{const savedIsFarming=localStorage.getItem('isFarming');return savedIsFarming==='true';});const[startTime,setStartTime]=useState(()=>{const savedStartTime=localStorage.getItem('startTime');return savedStartTime?new Date(parseInt(savedStartTime,10)):null;});const[elapsedFarmingTime,setElapsedFarmingTime]=useState(()=>{const savedElapsedFarmingTime=localStorage.getItem('elapsedFarmingTime');return savedElapsedFarmingTime?parseFloat(savedElapsedFarmingTime):0;});const[animationClass,setAnimationClass]=useState('');const maxTokens=32;const farmingDuration=3*60*60*1000;// 3 hours in milliseconds\nuseEffect(()=>{let farmingInterval;if(isFarming){const interval=1000;// Update every second\nfarmingInterval=setInterval(()=>{const now=new Date();const elapsed=(now-startTime)/1000;const farmed=Math.min((elapsed+elapsedFarmingTime)*0.001,maxTokens);setFarmedTokens(farmed);if(farmed>=maxTokens){clearInterval(farmingInterval);setIsFarming(false);setElapsedFarmingTime(0);}},interval);}return()=>clearInterval(farmingInterval);},[isFarming,startTime,elapsedFarmingTime]);useEffect(()=>{localStorage.setItem('tokens',tokens);localStorage.setItem('farmedTokens',farmedTokens);localStorage.setItem('isFarming',isFarming);localStorage.setItem('startTime',startTime?startTime.getTime():null);localStorage.setItem('elapsedFarmingTime',elapsedFarmingTime);},[tokens,farmedTokens,isFarming,startTime,elapsedFarmingTime]);const handleButtonClick=()=>{if(isFarming){// Do nothing if farming is in progress\n}else if(farmedTokens>=maxTokens){collectTokens();}else{startFarming();}// Trigger animation\nsetAnimationClass('animate');};const startFarming=()=>{if(!isFarming){const now=new Date();setStartTime(now);setIsFarming(true);setElapsedFarmingTime(0);setFarmedTokens(0);}};const collectTokens=()=>{if(farmedTokens>=maxTokens){setTokens(prevTokens=>Number((prevTokens+farmedTokens).toFixed(3)));setFarmedTokens(0);setIsFarming(false);setElapsedFarmingTime(0);}};const progressPercentage=farmedTokens/maxTokens*100;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(Score,{tokens:tokens})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar-fill\",style:{width:\"\".concat(progressPercentage,\"%\")},children:/*#__PURE__*/_jsxs(\"span\",{className:\"progress-text\",children:[progressPercentage.toFixed(1),\"%\"]})})}),/*#__PURE__*/_jsx(FarmButton,{isFarming:isFarming,farmedTokens:farmedTokens,onClick:handleButtonClick})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"animation_contain \".concat(animationClass),children:[/*#__PURE__*/_jsx(\"div\",{className:\"anim_blocks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"anim_blocks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"anim_blocks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"anim_blocks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"anim_blocks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"anim_blocks\"})]})]});}export default Ewe;","map":{"version":3,"names":["React","useState","useEffect","Score","FarmButton","jsx","_jsx","jsxs","_jsxs","Ewe","tokens","setTokens","savedTokens","localStorage","getItem","parseFloat","farmedTokens","setFarmedTokens","savedFarmedTokens","isFarming","setIsFarming","savedIsFarming","startTime","setStartTime","savedStartTime","Date","parseInt","elapsedFarmingTime","setElapsedFarmingTime","savedElapsedFarmingTime","animationClass","setAnimationClass","maxTokens","farmingDuration","farmingInterval","interval","setInterval","now","elapsed","farmed","Math","min","clearInterval","setItem","getTime","handleButtonClick","collectTokens","startFarming","prevTokens","Number","toFixed","progressPercentage","className","children","style","width","concat","onClick"],"sources":["C:/Users/valery-sm/Test-fix-GWC/src/Universes/EWE/src/EWE.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Score from './comp/Score';\r\nimport './css/EWE.css';\r\nimport FarmButton from './comp/FarmButton';\r\n\r\nfunction Ewe() {\r\n  const [tokens, setTokens] = useState(() => {\r\n    const savedTokens = localStorage.getItem('tokens');\r\n    return savedTokens ? parseFloat(savedTokens) : 0;\r\n  });\r\n\r\n  const [farmedTokens, setFarmedTokens] = useState(() => {\r\n    const savedFarmedTokens = localStorage.getItem('farmedTokens');\r\n    return savedFarmedTokens ? parseFloat(savedFarmedTokens) : 0;\r\n  });\r\n\r\n  const [isFarming, setIsFarming] = useState(() => {\r\n    const savedIsFarming = localStorage.getItem('isFarming');\r\n    return savedIsFarming === 'true';\r\n  });\r\n\r\n  const [startTime, setStartTime] = useState(() => {\r\n    const savedStartTime = localStorage.getItem('startTime');\r\n    return savedStartTime ? new Date(parseInt(savedStartTime, 10)) : null;\r\n  });\r\n\r\n  const [elapsedFarmingTime, setElapsedFarmingTime] = useState(() => {\r\n    const savedElapsedFarmingTime = localStorage.getItem('elapsedFarmingTime');\r\n    return savedElapsedFarmingTime ? parseFloat(savedElapsedFarmingTime) : 0;\r\n  });\r\n\r\n  const [animationClass, setAnimationClass] = useState('');\r\n\r\n  const maxTokens = 32;\r\n  const farmingDuration = 3 * 60 * 60 * 1000; // 3 hours in milliseconds\r\n\r\n  useEffect(() => {\r\n    let farmingInterval;\r\n    if (isFarming) {\r\n      const interval = 1000; // Update every second\r\n\r\n      farmingInterval = setInterval(() => {\r\n        const now = new Date();\r\n        const elapsed = (now - startTime) / 1000;\r\n        const farmed = Math.min((elapsed + elapsedFarmingTime) * 0.001, maxTokens);\r\n        setFarmedTokens(farmed);\r\n\r\n        if (farmed >= maxTokens) {\r\n          clearInterval(farmingInterval);\r\n          setIsFarming(false);\r\n          setElapsedFarmingTime(0);\r\n        }\r\n      }, interval);\r\n    }\r\n\r\n    return () => clearInterval(farmingInterval);\r\n  }, [isFarming, startTime, elapsedFarmingTime]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('tokens', tokens);\r\n    localStorage.setItem('farmedTokens', farmedTokens);\r\n    localStorage.setItem('isFarming', isFarming);\r\n    localStorage.setItem('startTime', startTime ? startTime.getTime() : null);\r\n    localStorage.setItem('elapsedFarmingTime', elapsedFarmingTime);\r\n  }, [tokens, farmedTokens, isFarming, startTime, elapsedFarmingTime]);\r\n\r\n  const handleButtonClick = () => {\r\n    if (isFarming) {\r\n      // Do nothing if farming is in progress\r\n    } else if (farmedTokens >= maxTokens) {\r\n      collectTokens();\r\n    } else {\r\n      startFarming();\r\n    }\r\n    // Trigger animation\r\n    setAnimationClass('animate');\r\n  };\r\n\r\n  const startFarming = () => {\r\n    if (!isFarming) {\r\n      const now = new Date();\r\n      setStartTime(now);\r\n      setIsFarming(true);\r\n      setElapsedFarmingTime(0);\r\n      setFarmedTokens(0);\r\n    }\r\n  };\r\n\r\n  const collectTokens = () => {\r\n    if (farmedTokens >= maxTokens) {\r\n      setTokens(prevTokens => Number((prevTokens + farmedTokens).toFixed(3)));\r\n      setFarmedTokens(0);\r\n      setIsFarming(false);\r\n      setElapsedFarmingTime(0);\r\n    }\r\n  };\r\n\r\n  const progressPercentage = (farmedTokens / maxTokens) * 100;\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"header\">\r\n        <Score tokens={tokens} />\r\n      </header>\r\n      <div className=\"content\">\r\n        <div className=\"progress-bar\">\r\n          <div \r\n            className=\"progress-bar-fill\" \r\n            style={{ width: `${progressPercentage}%` }}\r\n          >\r\n            <span className=\"progress-text\">{progressPercentage.toFixed(1)}%</span>\r\n          </div>\r\n        </div>\r\n        <FarmButton\r\n          isFarming={isFarming}\r\n          farmedTokens={farmedTokens}\r\n          onClick={handleButtonClick}\r\n        />\r\n      </div>\r\n      <div className={`animation_contain ${animationClass}`}>\r\n        <div className='anim_blocks'></div>\r\n        <div className='anim_blocks'></div>\r\n        <div className='anim_blocks'></div>\r\n        <div className='anim_blocks'></div>\r\n        <div className='anim_blocks'></div>\r\n        <div className='anim_blocks'></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Ewe;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}