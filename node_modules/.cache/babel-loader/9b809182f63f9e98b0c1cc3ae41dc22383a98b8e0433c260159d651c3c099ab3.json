{"ast":null,"code":"const UniverseData={totalClicks:0,gameScores:{appleCatcher:0,purblePairs:0},universes:{},currentUniverse:'default',// Добавляем объект для хранения данных EWE\neweData:{tokens:0,farmedTokens:0,isFarming:false,startTime:null,elapsedFarmingTime:0},getTotalClicks(){return this.totalClicks;},listeners:[],addListener(callback){this.listeners.push(callback);},removeListener(callback){this.listeners=this.listeners.filter(listener=>listener!==callback);},notifyListeners(){this.listeners.forEach(listener=>listener(this.totalClicks));},setTotalClicks(newTotal){this.totalClicks=newTotal;this.saveToLocalStorage();this.notifyListeners();},addGameScore(gameType,score){if(gameType in this.gameScores){this.gameScores[gameType]=score;this.totalClicks+=score;this.saveToLocalStorage();this.notifyListeners();console.log(\"Updated \".concat(gameType,\" score:\"),this.gameScores[gameType]);console.log('New total clicks:',this.totalClicks);}else{console.error('Неизвестный тип игры:',gameType);}},setUniverseData(universeName,key,value){if(!this.universes[universeName]){this.universes[universeName]={};}this.universes[universeName][key]=value;this.saveToLocalStorage();},getUniverseData(universeName,key,defaultValue){if(this.universes[universeName]&&this.universes[universeName][key]!==undefined){return this.universes[universeName][key];}return defaultValue;},setCurrentUniverse(universeName){this.currentUniverse=universeName;this.saveToLocalStorage();},getCurrentUniverse(){return this.currentUniverse;},// Методы для работы с данными EWE\nsetEWEData(key,value){this.eweData[key]=value;this.saveToLocalStorage();},getEWEData(key){return this.eweData[key];},saveToLocalStorage(){localStorage.setItem('universeData',JSON.stringify({totalClicks:this.totalClicks,gameScores:this.gameScores,universes:this.universes,currentUniverse:this.currentUniverse,eweData:this.eweData}));},loadFromLocalStorage(){const savedData=localStorage.getItem('universeData');if(savedData){const parsedData=JSON.parse(savedData);this.totalClicks=parsedData.totalClicks||0;this.gameScores=parsedData.gameScores||{appleCatcher:0,purblePairs:0};this.universes=parsedData.universes||{};this.currentUniverse=parsedData.currentUniverse||'default';this.eweData=parsedData.eweData||{tokens:0,farmedTokens:0,isFarming:false,startTime:null,elapsedFarmingTime:0};}else{this.resetToDefaults();}},resetToDefaults(){this.totalClicks=100000;this.gameScores={appleCatcher:0,purblePairs:0};this.universes={};this.currentUniverse='default';this.eweData={tokens:0,farmedTokens:0,isFarming:false,startTime:null,elapsedFarmingTime:0};this.saveToLocalStorage();},init(){this.loadFromLocalStorage();}};UniverseData.init();export default UniverseData;","map":{"version":3,"names":["UniverseData","totalClicks","gameScores","appleCatcher","purblePairs","universes","currentUniverse","eweData","tokens","farmedTokens","isFarming","startTime","elapsedFarmingTime","getTotalClicks","listeners","addListener","callback","push","removeListener","filter","listener","notifyListeners","forEach","setTotalClicks","newTotal","saveToLocalStorage","addGameScore","gameType","score","console","log","concat","error","setUniverseData","universeName","key","value","getUniverseData","defaultValue","undefined","setCurrentUniverse","getCurrentUniverse","setEWEData","getEWEData","localStorage","setItem","JSON","stringify","loadFromLocalStorage","savedData","getItem","parsedData","parse","resetToDefaults","init"],"sources":["C:/Users/valery-sm/Test-fix-GWC/src/Universes/EWI/src/UniverseData.js"],"sourcesContent":["const UniverseData = {\r\n  totalClicks: 0,\r\n  gameScores: {\r\n    appleCatcher: 0,\r\n    purblePairs: 0\r\n  },\r\n  universes: {},\r\n  currentUniverse: 'default',\r\n  \r\n  // Добавляем объект для хранения данных EWE\r\n  eweData: {\r\n    tokens: 0,\r\n    farmedTokens: 0,\r\n    isFarming: false,\r\n    startTime: null,\r\n    elapsedFarmingTime: 0\r\n  },\r\n\r\n  getTotalClicks() {\r\n    return this.totalClicks;\r\n  },\r\n\r\n  listeners: [],\r\n\r\n  addListener(callback) {\r\n    this.listeners.push(callback);\r\n  },\r\n\r\n  removeListener(callback) {\r\n    this.listeners = this.listeners.filter(listener => listener !== callback);\r\n  },\r\n\r\n  notifyListeners() {\r\n    this.listeners.forEach(listener => listener(this.totalClicks));\r\n  },\r\n\r\n  setTotalClicks(newTotal) {\r\n    this.totalClicks = newTotal;\r\n    this.saveToLocalStorage();\r\n    this.notifyListeners();\r\n  },\r\n\r\n  addGameScore(gameType, score) {\r\n    if (gameType in this.gameScores) {\r\n      this.gameScores[gameType] = score;\r\n      this.totalClicks += score;\r\n      this.saveToLocalStorage();\r\n      this.notifyListeners();\r\n      console.log(`Updated ${gameType} score:`, this.gameScores[gameType]);\r\n      console.log('New total clicks:', this.totalClicks);\r\n    } else {\r\n      console.error('Неизвестный тип игры:', gameType);\r\n    }\r\n  },\r\n\r\n  setUniverseData(universeName, key, value) {\r\n    if (!this.universes[universeName]) {\r\n      this.universes[universeName] = {};\r\n    }\r\n    this.universes[universeName][key] = value;\r\n    this.saveToLocalStorage();\r\n  },\r\n\r\n  getUniverseData(universeName, key, defaultValue) {\r\n    if (this.universes[universeName] && this.universes[universeName][key] !== undefined) {\r\n      return this.universes[universeName][key];\r\n    }\r\n    return defaultValue;\r\n  },\r\n\r\n  setCurrentUniverse(universeName) {\r\n    this.currentUniverse = universeName;\r\n    this.saveToLocalStorage();\r\n  },\r\n\r\n  getCurrentUniverse() {\r\n    return this.currentUniverse;\r\n  },\r\n\r\n  // Методы для работы с данными EWE\r\n  setEWEData(key, value) {\r\n    this.eweData[key] = value;\r\n    this.saveToLocalStorage();\r\n  },\r\n\r\n  getEWEData(key) {\r\n    return this.eweData[key];\r\n  },\r\n\r\n  saveToLocalStorage() {\r\n    localStorage.setItem('universeData', JSON.stringify({\r\n      totalClicks: this.totalClicks,\r\n      gameScores: this.gameScores,\r\n      universes: this.universes,\r\n      currentUniverse: this.currentUniverse,\r\n      eweData: this.eweData\r\n    }));\r\n  },\r\n\r\n  loadFromLocalStorage() {\r\n    const savedData = localStorage.getItem('universeData');\r\n    if (savedData) {\r\n      const parsedData = JSON.parse(savedData);\r\n      this.totalClicks = parsedData.totalClicks || 0;\r\n      this.gameScores = parsedData.gameScores || {\r\n        appleCatcher: 0,\r\n        purblePairs: 0\r\n      };\r\n      this.universes = parsedData.universes || {};\r\n      this.currentUniverse = parsedData.currentUniverse || 'default';\r\n      this.eweData = parsedData.eweData || {\r\n        tokens: 0,\r\n        farmedTokens: 0,\r\n        isFarming: false,\r\n        startTime: null,\r\n        elapsedFarmingTime: 0\r\n      };\r\n    } else {\r\n      this.resetToDefaults();\r\n    }\r\n  },\r\n\r\n  resetToDefaults() {\r\n    this.totalClicks = 100000;\r\n    this.gameScores = {\r\n      appleCatcher: 0,\r\n      purblePairs: 0\r\n    };\r\n    this.universes = {};\r\n    this.currentUniverse = 'default';\r\n    this.eweData = {\r\n      tokens: 0,\r\n      farmedTokens: 0,\r\n      isFarming: false,\r\n      startTime: null,\r\n      elapsedFarmingTime: 0\r\n    };\r\n    this.saveToLocalStorage();\r\n  },\r\n\r\n  init() {\r\n    this.loadFromLocalStorage();\r\n  }\r\n};\r\n\r\nUniverseData.init();\r\n\r\nexport default UniverseData;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}